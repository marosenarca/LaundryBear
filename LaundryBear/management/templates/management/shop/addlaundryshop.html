{%extends 'management/base.html'%}
{% load staticfiles %}

    {% block title %}Add Laundry Shop | LaundryBear{% endblock %}

{%block body%}
      <div class="row">
      <div class="large-8 large-offset-2 columns">
        <div class="panel">
          <h3 align="center">Add Laundry Shop</h3>
          <!--forms-->
          <form method="post">
              {% csrf_token %}
              <div class="row">
                <div class="large-8 columns">
                  <label>Name
                    {{ form.name }}
                    {{ form.name.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Province
                    {{ form.province }}
                    {{ form.province.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>City
                    {{ form.city }}
                    {{ form.city.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Barangay
                    {{ form.barangay }}
                    {{ form.barangay.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Street
                    {{ form.street }}
                    {{ form.street.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Building
                    {{ form.building }}
                    {{ form.building.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Contact number
                    {{ form.contact_number }}
                    {{ form.contact_number.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Email
                    {{ form.email }}
                    {{ form.email.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Website
                    {{ form.website }}
                    {{ form.website.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Hours Open
                    {{ form.hours_open }}
                    {{ form.hours_open.errors }}
                  </label>
                </div>
              </div>

              <div class="row">
                <div class="large-8 columns">
                  <label>Days Open
                    {{ form.days_open }}
                    {{ form.days_open.errors }}
                  </label>
                </div>
              </div>
              <hr/>

              <h4>Services</h4>
			  <div class="large-12 columns">
				  <div class="row">
					  <div class="medium-6 columns">
						  <label>Service
							  <select id="service-input">
								  <option>---------</option>
								  {%for service in service_list%}
								  <option value="{{ service.pk }}" data-service-description="{{ service.description }}" data-service-name="{{ service.name }}">{{ service.name }}</option>
								  {% endfor %}
							  </select>
						  </label>
					  </div>
					  <div class="medium-4 columns">
						  <label>Price
							  <input type="number" id="price-input" />
						  </label>
					  </div>
					  <div class="medium-2 columns" id="set-service-button-container">
						  <a href="#" class="button medium" id="set-service-button"><i class="fi-plus"></i></a>
					  </div>
				  </div>
				  <div class="row">
					  <div class="medium-4 columns" id="add-service-button-container">
						  <a href="#">Add Service...</a>
					  </div>
				  </div>
			  </div>
			  <div class="medium-12 columns">
              <table style="width: 100%">
                <thead>
                  <tr>
                    <th>Service Name</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="service-table-body">
                </tbody>
              </table>
		  </div>
		  {{ price_formset.management_form }}
		  <div class="hide" id="price-formset-container">
			{% for price_form in price_formset %}
			<div class="item-{{ forloop.counter0 }}">
				{{ price_form.service }}
				{{ price_form.price }}
				{{ price_form.DELETE }}
			</div>
			{% endfor %}
		  </div>
		  <template id="formset-form-template">
			  <div class="item-__prefix__">
				  {{ price_formset.empty_form.service }}
				  {{ price_formset.empty_form.price }}
				  {{ price_formset.empty_form.DELETE }}
			  </div>
		  </template>
		  <template id="table-row-template">
			  <tr data-service-pk="__pk__" data-service-name="__service-name__" data-service-price="__price__" data-service-description="__description__">
				  <td>__service-name__</td>
				  <td>__description__</td>
				  <td>__price__</td>
				  <td><a href="#" data-service-pk="__pk__" class="button secondary tiny edit-service-button">Edit</a> <a href="#" class="button secondary tiny delete-service-button">Delete</a> </td>
			  </tr>
		  </template>
		  <template id="option-template">
			  <option value="__value__" selected="__selected__" data-service-name="__optionname__" data-service-description="__description__">__optionname__</option>
		  </template>

              <div id="firstModal" class="reveal-modal" data-reveal aria-labelledby="firstModalTitle" aria-hidden="true" role="dialog">
                <h2 id="firstModalTitle">Service</h2>
                  <div class="row">
                    <div class="large-8 columns">
                      <label>Service Name:
                        <button id="selected" href="#" data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="button dropdown">Dropdown Button</button><br>
                        <ul id="drop1" data-dropdown-content class="f-dropdown" aria-hidden="true">
                          {%for service in service_list%}
                          <option value="{{ service.name }}">{{ service.name }}</option>
                          {% endfor %}
                        </ul>

                      </label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="large-8 columns">
                      <label>Price:
                        <input type="text"/>
                      </label>
                    </div>
                  </div>

                  <button type="submit" class="button">Save</button>

                  <a class="close-reveal-modal" aria-label="Close">&#215;</a>

              </div>

              <hr/>
              <button type="submit" class="button small">Save</button>
              <a href="javascript:history.go(-1);" class="warning button small">Cancel</a>

          </form>

        </div>
      </div>
    </div>

  {% endblock %}
